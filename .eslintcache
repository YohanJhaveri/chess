[{"/Users/yohanjhaveri/Desktop/react-games/chess/src/index.js":"1","/Users/yohanjhaveri/Desktop/react-games/chess/src/App.js":"2","/Users/yohanjhaveri/Desktop/react-games/chess/src/functions/constants.js":"3","/Users/yohanjhaveri/Desktop/react-games/chess/src/functions/helpers.js":"4","/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Board.js":"5","/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Clock.js":"6","/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Settings.js":"7","/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Buttons.js":"8","/Users/yohanjhaveri/Desktop/react-games/chess/src/utils.js":"9"},{"size":166,"mtime":1609853360998,"results":"10","hashOfConfig":"11"},{"size":3636,"mtime":1613109516105,"results":"12","hashOfConfig":"11"},{"size":968,"mtime":1613109511408,"results":"13","hashOfConfig":"11"},{"size":8071,"mtime":1610053678631,"results":"14","hashOfConfig":"11"},{"size":2715,"mtime":1613109612609,"results":"15","hashOfConfig":"11"},{"size":940,"mtime":1613108915031,"results":"16","hashOfConfig":"11"},{"size":1307,"mtime":1613109398964,"results":"17","hashOfConfig":"11"},{"size":549,"mtime":1610039382382,"results":"18","hashOfConfig":"11"},{"size":9897,"mtime":1610045488942,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"19zktnt",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/yohanjhaveri/Desktop/react-games/chess/src/index.js",[],["40","41"],"/Users/yohanjhaveri/Desktop/react-games/chess/src/App.js",["42"],"import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport Board from \"components/Board\";\nimport Clock from \"components/Clock\";\nimport Settings from \"components/Settings\";\n\nimport {\n  makeDeepCopyBoard,\n  getCoordinates,\n  getPossibleMoves,\n} from \"functions/helpers\";\n\nimport { INITIAL } from \"./functions/constants\";\n\nfunction App() {\n  // GAME BASED\n  const [time, setTime] = useState(10);\n  const [active, setActive] = useState(false);\n  const [state, setState] = useState([INITIAL]);\n  const [index, setIndex] = useState(0);\n  const [turn, setTurn] = useState(\"\");\n  const [clock, setClock] = useState([600, 600]);\n  const [winner, setWinner] = useState(\"\");\n\n  // TURN BASED\n  const [selectedSquare, setSelectedSquare] = useState(\"\");\n  const [possibleMoves, setPossibleMoves] = useState([]);\n  const [countdownInterval, setCountdownInterval] = useState();\n\n  // SET CLOCK\n  useEffect(() => {\n    const seconds = time * 60;\n    setClock([seconds, seconds]);\n  }, [time]);\n\n  // TRIGGER COUNTDOWN\n  useEffect(() => {\n    clearInterval(countdownInterval);\n\n    if (turn) {\n      setCountdownInterval(() =>\n        setInterval(() => {\n          setClock((prev) => {\n            const updated = [...prev];\n            if (turn === \"W\") updated[0] -= 1;\n            if (turn === \"B\") updated[1] -= 1;\n            if (updated[0] === 0) handleEnd(\"B\");\n            if (updated[1] === 0) handleEnd(\"W\");\n            return updated;\n          });\n        }, 1000)\n      );\n    }\n  }, [turn]);\n\n  // WINNER ANNOUNCEMENT\n  useEffect(() => {\n    if (winner) {\n      alert(`${winner === \"W\" ? \"White\" : \"Black\"} wins!`);\n    }\n  }, [winner]);\n\n  const handleStart = () => {\n    setWinner(\"\");\n    setTurn(\"W\");\n    setActive(true);\n  };\n\n  const handleEnd = (winner) => {\n    setWinner(winner);\n    setTurn(\"\");\n    setActive(false);\n  };\n\n  const handleMove = (origin, destination) => {\n    const [x0, y0] = getCoordinates(origin);\n    const [x1, y1] = getCoordinates(destination);\n\n    setState((prev) => {\n      const board = makeDeepCopyBoard(prev[prev.length - 1]);\n      board[x1][y1] = board[x0][y0];\n      board[x0][y0] = \"\";\n      setIndex((prev) => prev + 1);\n      return prev.concat([board]);\n    });\n  };\n\n  const handleClick = (square) => {\n    if (index !== state.length - 1) return;\n\n    const [x, y] = getCoordinates(square);\n    const board = state[state.length - 1];\n    const [color] = board[x][y].split(\"\");\n\n    if (color === turn) {\n      if (square === selectedSquare) {\n        setSelectedSquare(\"\");\n        setPossibleMoves([]);\n        return;\n      }\n\n      setSelectedSquare(square);\n      setPossibleMoves(getPossibleMoves(board, square));\n      return;\n    }\n\n    if (possibleMoves.includes(square)) {\n      handleMove(selectedSquare, square);\n      setTurn((prevTurn) => (prevTurn === \"W\" ? \"B\" : \"W\"));\n    }\n\n    setSelectedSquare(\"\");\n    setPossibleMoves([]);\n  };\n\n  const handleBack = () => {\n    setIndex((prev) => prev - (prev > 0));\n  };\n\n  const handleNext = () => {\n    setIndex((prev) => prev + (prev < state.length - 1));\n  };\n\n  return (\n    <Page>\n      <Clock clock={clock} />\n      <Board\n        board={state[index]}\n        selectedSquare={selectedSquare}\n        possibleMoves={possibleMoves}\n        handleClick={handleClick}\n      />\n      <Settings\n        active={active}\n        time={time}\n        setTime={setTime}\n        handleBack={handleBack}\n        handleNext={handleNext}\n        handleStart={handleStart}\n      />\n    </Page>\n  );\n}\n\nconst Page = styled.div`\n  display: grid;\n  grid-gap: 15px;\n  width: 512px;\n`;\n\nexport default App;\n","/Users/yohanjhaveri/Desktop/react-games/chess/src/functions/constants.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/functions/helpers.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Board.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Clock.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Settings.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/components/Buttons.js",[],"/Users/yohanjhaveri/Desktop/react-games/chess/src/utils.js",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":55,"column":6,"nodeType":"49","endLine":55,"endColumn":12,"suggestions":"50"},"no-native-reassign",["51"],"no-negated-in-lhs",["52"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'countdownInterval'. Either include it or remove the dependency array.","ArrayExpression",["53"],"no-global-assign","no-unsafe-negation",{"desc":"54","fix":"55"},"Update the dependencies array to be: [countdownInterval, turn]",{"range":"56","text":"57"},[1522,1528],"[countdownInterval, turn]"]